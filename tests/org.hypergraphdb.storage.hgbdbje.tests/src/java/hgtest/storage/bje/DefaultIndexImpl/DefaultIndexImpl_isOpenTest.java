package hgtest.storage.bje.DefaultIndexImpl;

import static org.easymock.EasyMock.replay;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import org.hypergraphdb.storage.bje.DefaultIndexImpl;
import org.junit.Test;

public class DefaultIndexImpl_isOpenTest extends DefaultIndexImplTestBasis
{
	@Test
	public void returnsTrue_whenIndexIsOpened() throws Exception
	{
		startupIndex();

		final boolean isOpen = index.isOpen();
		assertTrue(isOpen);

		index.close();
	}

	@Test
	public void returnsFalse_whenIndexIsNotOpened() throws Exception
	{
		replay(mockedStorage);

		final DefaultIndexImpl<Integer, String> index = new DefaultIndexImpl<>(
				INDEX_NAME, mockedStorage, transactionManager, keyConverter,
				valueConverter, comparator, null);

		final boolean isOpen = index.isOpen();

		assertFalse(isOpen);
	}
}
